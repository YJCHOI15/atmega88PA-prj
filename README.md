# 🎹 MCU 기반 스마트 전자 피아노 프로젝트

이 프로젝트는 **2025 MCU 프로그래밍 대회 결선**에 진출한 작품으로, **기존 장난감 전자 피아노를 개조하여 스마트 기능을 추가**한 임베디드 시스템 구현 과제입니다. 기존 제품에 MCU를 추가하고 하드웨어 회로를 수정하여, 자동 연주, 녹음 및 재생, 터치 감지 등 다양한 기능을 실현하였습니다.

---

## 🛠️ 프로젝트 개요

- **목표**: 기존 장난감 피아노의 한계를 넘어, MCU를 활용한 **음계 제어**, **자동 연주**, **학습 기능** 등을 추가하여 스마트 전자악기로 발전
- **주요 키워드**: PWM, 타이머 인터럽트, 음정 재생, 버튼 매핑, EEPROM, 사운드 테이블, 자동 연주 FSM
- **하드웨어 기반**: ATmega128 MCU / STM32 시리즈 (MCU는 프로젝트에 따라 변경 가능)

---

## 🎶 주요 기능

| 기능 | 설명 |
|------|------|
| ✅ 자동 연주 모드 | 미리 정의된 악보를 MCU가 연주 |
| 🎧 녹음 & 재생 | 사용자의 연주를 EEPROM에 저장 후 재생 가능 |
| 🎵 음계 정밀 재현 | PWM 기반 다양한 음정 구현 |
| 🎹 터치 입력 감지 | 키 매핑 버튼 입력 처리 |
| 💾 멜로디 저장 | 최대 3곡까지 EEPROM에 저장 가능 |
| 📎 디버깅 UART 출력 | 현재 음, 박자 정보 UART 출력 |

---

## ⚙️ 하드웨어 구성

| 부품명 | 용도 |
|--------|------|
| ATmega128 or STM32 | 메인 제어용 MCU |
| 장난감 전자 피아노 | 회로 개조 및 입력 장치 활용 |
| Buzzer / Speaker | 사운드 출력용 |
| Button matrix | 키보드 입력 (8~16개 키 스캔) |
| LED | 현재 음계, 모드 표시 |
| EEPROM (내장 or 외장) | 연주 데이터 저장 |

---

## 📁 폴더 구조

├── /Firmware/ # MCU 펌웨어 코드
│ ├── main.c
│ ├── piano_logic.c
│ ├── sound_table.h
│ └── ...
├── /Docs/ # 대회 발표자료, 회로도, 보고서
├── /Piano_Hardware/ # 개조된 장난감 피아노 내부 회로 사진
├── /Demo_Video/ # 시연 영상 또는 GIF
└── README.md

yaml
Copy
Edit

---

## 🧠 구현 포인트

- 🎼 **주파수-음계 매핑**: 도~시 각 음에 대응되는 주파수 테이블 생성 (A = 440Hz 기준)
- ⏱️ **타이머 인터럽트 활용**: 박자 맞춰 연주 및 음 길이 조절
- 📐 **FSM 구조**: 대기 → 연주 → 녹음 → 재생 → 종료 순으로 상태 관리
- 📥 **EEPROM 사용**: 전원 꺼져도 연주 데이터 유지
- 🔧 **기존 장난감 피아노 하드웨어 개조**: 버튼 신호 MCU 입력으로 매핑, 기존 회로 우회 설계

---

## 🎬 시연 영상

> [📺 유튜브 링크 또는 GIF 첨부]  
> *“엘리제를 위하여” 자동 연주 데모* 포함

---

## 🏁 수상 및 결과

> 해당 작품은 **2025 MCU 임베디드 시스템 경진대회 결선 진출작**으로 선정되어 **기능 구현력 및 창의성 부문에서 높은 평가**를 받았습니다.

---

## 👨‍💻 팀원

- 윤성웅 – 음계 처리 알고리즘, EEPROM 로직
- 채은 – 회로 개조 및 PWM 음정 매핑
- 민지 – UI 기능, LED 상태 표시 및 발표 자료

---

## 📄 라이선스

MIT License — 자유롭게 사용 및 수정 가능. 상업적 이용 시 반드시 출처를 밝혀주세요.
